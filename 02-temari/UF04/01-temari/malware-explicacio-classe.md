# MALWARE

## 1. Defensa per capes o profunditat -resum - 

### 1.1 Explicació
- Diferents capes com al camp de batalla a la guerra
- Disminueix riscos
- Augmenta opcions detecció
- Divisió defensa per objectius

### 1.2 Exemples de mesures segons gràfic

---

## 2. Malware

### 2.1 Definició
Programari maliciós amb objectiu infiltrar-se al sistema i afectar l'ordinador sense consentiment usuari

### 2.2 Objectius
- Monitorar i espiar
- Robar info
- Robar identitat i credencials
- Destruïr dades dispositius connectats i accessibles
- Atac Dos
- Backdoor, Rootkit
- Robar diners, extorsió

### 2.3 Classificació segons comportament
- **Virus**
    - Replica i propagaga (virus biològic) 
    - Portadors:
        - Arxius executables
        - Macros
        - Sectors arrencada extraibles
    - Afegeix al final programa binari original -> modifica inicialització del programa

- **Cucs (worms)**
    - Replica a la memòria RAM amb gran velocitat 
    - Modifiquen SO per autoexecutar-se
    - Tractat com a virus
    - Propagació -> per xarxa

- **Troià o cavall de Troia**
    - Programa nociu que sembla legítim
    - No es repliquen per sí mateixos
    - Portadors: 
        - Adjuntats a qualsevol tipus de programari
        - Email
        - Pendrive perduts i recollits
    - Objectiu -> instal.la programari permetent control CPU 
    - Captura, envia dades, obrir ports comunicació, control ordinador manera remota

- **Backdoor**
    - Programa permet accés sistema burlant procediments autentificació
    - Tipus:
        - Semblants troians
        - Semblants al cuc

- **Bomba lògica**
    - Destruïr dades o altres mals de consideració
    - Segment camuflat en un programa
    - No considerats virus

- **Spyware i Adware**
    - Igual que els troians
    - Spyware:
        - Recolecta info i envia
    - Adware
        - Programari mostra publicitat no desitjada
        - Incorporat a programari gratuït

- **Ransomware**
    - Programa restringeix accés arxius ordinador demanant un rescat
    - Codificació o xifrat
    - Poden atacar backups
    - Filtració de dades a medi públic

- **Hoaxes**
    - Missatges enganyosos sobre suposades infeccions virals

- **Jokes**
    - Inofensiu
    - Simula atac virus

- **Exploit**
    - Ataca vulnerabilitat SO
    - Creats per investigadors i Corporacions de seguretat


## 3. RECURSOS GRATUÏTS D'EDUCACIÓ I INFORMACIÓ PER L'USUARI

### 3.1 CVE: COMMON VULNERABILITIES AND EXPOSURES
- Vulnerabilitats programari i maquinari es publica i es fa update en una BBDD de públic accès per la corporació **MITRE**
- Cada vulnerabilitat li correspon una referència CVE amb el format:
    CVE-2019-1214
- Cadasqun d'aquest **CVE** inclou:
    - CVE ID number
    - Descripció vulnerabilitat o exposició
    - Documentació relacionada


### 3.2 OWASP (Open Web Application Security Project®)
- Fundació sense ànim de lucre que treballa per millorar programari de la web
- Ofereix a l'usuari:
    - Eines i recursos
    - Gran comunitat
    - Sistema educació 


## 4. VULNERABILITATS APROFITADES PEL MALWARE

### 4.1 Tipus vulnerabilitats
- Defectes de seguretat del programari
- Configuració errònia del sistema
- Disseny insegur del sistema o errors d’usuari
- Codi i/o usuaris amb més privilegis dels necessaris
- Ús del mateix sistema operatiu


### 4.2 DEFECTES DE SEGURETAT DEL PROGRAMARI
- Errors de programació
- Programació d'apps de manera no segura


### 4.3 CONFIGURACIÓ ERRÒNIA DEL SISTEMA
- Instal.lació SO per defecte, sense personalitzar: 
    - Ports oberts
    - Comptes d'usuari per defecte
    - Serveis innecessaris activats
    - ...
- Instal.lació per defecte de serveis
    - Superfície d'atac més gran
    - Falta d’actualitzacions
    - Funcionalitats no segures
    - ...
- Sistema configurat sense limit recursos per usuari
    - Atac Dos
    - ...

### 4.4 DISSENY INSEGUR O ERRORS D’USUARI
- Arrencada dispositius infectats
- Càrrega codi maliciós via html x internet
- Execució pendirves perduts
- Arrencada dispositius externs


### 4.5  CODI O USUARIS AMB MÉS PRIVILEGIS DEL COMPTE
- SO mal dissenyats, programes configurats com a root o usuaris root
- Cedir privilegis o root excesius a usuaris


### 4.6 UTILITZACIÓ DEL MATEIX SO
- Mateix SO a totas els equips


## 5. EINES ANTIMALWARE O ANTIVIRUS
- Eines de detecció precoç d'amenaces
- **Antimalware**: detecten malware injectats a l'equip informàtic, actuant per evitar propagament: esborra o quarentena

### 5.1 FUNCIONAMENT
- Només accedir a fitxer o xarxa escaneja possibles senyals
- Usuari determina si fitxer afectat esborra o quarentena

### 5.2 TIPUS DE PROTECCIÓ
- En **temps real**:
    - Anàlisi totes dades entren de la xarxa o dispositiu
    - Afecta rendiment sistema -> anàlisis no extens mirant referències de malware més habituals
- Escaneig **programat** o **manual**
    - Anàlisi exhaustiu mirant totes les referències de malware que es té
- Detecció **on-line**
    - Envia mostra
    - Sistema remot fa comprovació
    - Es mostra amenaça detectada
    - Es detecta amenaça, no hi ha eliminació
    - No sustitueix al local
    - No enviar dades privades
    - Possibilitat enviament url


## 6. TÈCNIQUES ANTIMALWARE
Els programes antimalware utilitzen tècniques de detecció

## 6.1 FIRMES
- Es recullen mostres
- Analitzen buscant cadena  característica (firma)
- Es desa aquesta firma a BBDD per futures deteccions
- Tatuatge

## 6.2 HEURÍSTICA
- Segons Wikipedia: "L'heurística és una forma de treball per resoldre problemes, aprendre, o fer descobriments que utilitza mètodes pràctics que no garanteixen una solució òptima o perfecta, però que són suficients per als objectius immediats. D'aquesta manera es poden aconseguir resultats acceptables en un temps més curt. (...) Són exemples d'aquests mètodes les estimacions fonamentades, les aproximacions, les opinions intuïtives, el sentit comú, o la categorització."
- El polimorfisme és una tècnica utilitzada pel malware per canviar la seva aparença cada vegada que s'executa o es propaga, fent que sigui difícil de detectar mitjançant eines de seguretat tradicionals com els antivirus.
- L'Antivirus analitza comportament del programari per deduïr si hi ha infecció:
    - ports oberts sense sentit
    - modificació/esborrament fitxers sense permís
    - crides a mètodes del sistema sense motiu
- Modelització




